{"version":3,"sources":["../src/index.js"],"names":["dotenv","config","app","use","bodyParser","json","get","req","res","status","message","listen","process","env","PORT","console","log","search","userRouter","forumRouter","threadRouter","postRouter","err","next","mongoose","connect","MONGO_URL","useNewUrlParser","useUnifiedTopology"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAZAA,iBAAOC,MAAP;;;AAcA,IAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,qBAAR;AACAD,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAH,IAAIC,GAAJ,CAAQ,uBAAR;AACAD,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEAD,IAAII,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,MAAIC,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB,EAAEK,SAAS,8BAAX,EAArB;AACD,CAFD;;AAIAR,IAAIS,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B,EAAqC,YAAM;AACzCC,UAAQC,GAAR,CAAY,wBAAZ;AACD,CAFD;AAGAd,IAAII,GAAJ,CAAQ,SAAR,EAAmBW,cAAnB;AACAf,IAAIC,GAAJ,CAAQ,GAAR,EAAae,oBAAb;AACAhB,IAAIC,GAAJ,CAAQ,GAAR,EAAagB,qBAAb;AACAjB,IAAIC,GAAJ,CAAQ,GAAR,EAAaiB,sBAAb;AACAlB,IAAIC,GAAJ,CAAQ,GAAR,EAAakB,oBAAb;;AAEAnB,IAAIC,GAAJ,CAAQ,UAACmB,GAAD,EAAMf,GAAN,EAAWC,GAAX,EAAgBe,IAAhB,EAAyB;AAC/BR,UAAQC,GAAR,CAAYM,GAAZ,EAD+B,CACb;AAClB,0BAAYA,GAAZ,EAAiBd,GAAjB;AACD,CAHD;;AAKAgB,mBAASC,OAAT,CACEb,QAAQC,GAAR,CAAYa,SADd,EAEE,EAAEC,iBAAiB,IAAnB,EAAyBC,oBAAoB,IAA7C,EAFF,EAGE,eAAO;AACL,MAAIN,GAAJ,EAAS;AACPP,YAAQC,GAAR,CAAYM,GAAZ;AACD,GAFD,MAEO;AACLP,YAAQC,GAAR;AACD;AACF,CATH","file":"index.js","sourcesContent":["import dotenv from \"dotenv\";\r\ndotenv.config();\r\nimport express from \"express\";\r\nimport cors from \"cors\";\r\nimport bodyParser from \"body-parser\";\r\nimport logger from \"morgan\";\r\nimport mongoose from \"mongoose\";\r\nimport helmet from \"helmet\";\r\nimport { handleError } from \"./utils/error\";\r\nimport userRouter from \"./routes/userRouter\";\r\nimport forumRouter from \"./routes/forumRouter\";\r\nimport threadRouter from \"./routes/threadRouter\";\r\nimport postRouter from \"./routes/postRouter\";\r\nimport { search } from \"./controllers/search\";\r\n\r\nconst app = express();\r\n\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use(helmet());\r\napp.use(logger(\"dev\"));\r\n\r\napp.get(\"/\", (req, res) => {\r\n  res.status(200).json({ message: \"Welcome to node js & Express\" });\r\n});\r\n\r\napp.listen(process.env.PORT || 3000, () => {\r\n  console.log(\"Listening on port 3000\");\r\n});\r\napp.get(\"/search\", search);\r\napp.use(\"/\", userRouter);\r\napp.use(\"/\", forumRouter);\r\napp.use(\"/\", threadRouter);\r\napp.use(\"/\", postRouter);\r\n\r\napp.use((err, req, res, next) => {\r\n  console.log(err); //development!\r\n  handleError(err, res);\r\n});\r\n\r\nmongoose.connect(\r\n  process.env.MONGO_URL,\r\n  { useNewUrlParser: true, useUnifiedTopology: true },\r\n  err => {\r\n    if (err) {\r\n      console.log(err);\r\n    } else {\r\n      console.log(`Mongo database is running!`);\r\n    }\r\n  }\r\n);\r\n"]}